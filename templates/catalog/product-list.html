{% extends "layout.html" %}
{% load static %}

{% block content %}
<div class="page-wrapper">
<div class="content">
<div class="page-header">
<div class="page-title">
<h4>Product List</h4>
<h6>Manage your products</h6>
</div>

<div class="page-btn">
<a href="{% url 'add_product' %}" class="btn btn-added"><img src="{% static 'assets/img/icons/plus.svg' %}" alt="img" class="me-1">Add New Product</a>
</div>
</div>

<div class="card">
<div class="card-body">
<div class="table-top">
<div class="d-flex justify-content-end mb-2">
    {% if view_type == 'deactive' %}
<a href="{% url 'product_list' %}" class="text-danger fw-bold">
<i class="fa fa-archive"></i> Go to activated Products
</a>
    {% else %}
<a href="{% url 'deactive_product_list' %}" class="text-danger fw-bold">
<i class="fa fa-archive"></i> Go to Deactived Products
    {% endif %}
</a>
</div>
</div>
<div class="card mb-0" id="filter_inputs">
</div>

<div class="table-responsive">
<table class="table datanew">
<thead>
<tr>
<th>ID
</th>
<th>Product Name</th>
<th>Category </th>
<th>price</th>
<th>Unit</th>
<th>QUantity</th>
<th>Active?</th>
<th>Action</th>
</tr>
</thead>
<tbody>
{% for product in products %}
<tr>
<td>{{product.product_id}}</td>
<td class="productimgname">
<a href="{% url 'product_detail' product.id %}" class="product-img">
    {% if product.image %}
<img src="{{ product.image.url }}" alt="product">
    {% else %}
    <img src="{% static 'assets/img/product/noimage.png' %}" alt="Category Image">
    {% endif %}
</a>
<a href="{% url 'product_detail' product.id %}">{{product.name}}</a>
</td>
<td>{{product.category.name}}</td>
<td>{{product.price}}</td>
<td>{{product.unit}}</td>
<td>
    {% if product.inventory.is_low_stock %}
        <span class="badge bg-danger">{{ product.inventory.quantity }}</span>
    {% else %}
        <span class="badge bg-success">{{ product.inventory.quantity }}</span>
    {% endif %}
</td>
    <td>
    {% if not product.is_active %}
    <span class="badge bg-danger">No</span>
    {% else %}
    <span class="badge bg-success">Yes</span>
    {% endif %}
</td>
<td>
<a class="me-3" href="{% url 'product_detail' product.id %}">
<img src="{% static 'assets/img/icons/eye.svg' %}" alt="img">
</a>
<a class="me-3" href="{% url 'edit_product' product.id %}">
<img src="{% static 'assets/img/icons/edit.svg' %}" alt="img">
</a>
<a class="confirm-text" href="{% url 'delete_product' product.id %}">
<img src="{% static 'assets/img/icons/delete.svg' %}" alt="img">
</a>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
</div>

</div>
</div>

{% endblock %}